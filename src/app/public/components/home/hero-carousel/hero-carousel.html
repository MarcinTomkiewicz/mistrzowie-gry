<section class="mg-section mg-hero" aria-label="Sekcja startowa">
  <div class="mg-container">
    <div
      class="mg-hero__wrap"
      (mouseenter)="onMouseEnter()"
      (mouseleave)="onMouseLeave()"
      (focusin)="onFocusIn()"
      (focusout)="onFocusOut()"
    >
      <div class="mg-hero__media mg-card">
        <!-- Cały obraz jako link + caption na obrazie -->
        <a
          class="mg-hero__link"
          [routerLink]="active().ctaPath"
          [attr.aria-label]="active().ctaLabel + ': ' + active().heading"
        >
          <img
            class="mg-hero__img"
            [src]="active().imageSrc"
            [alt]="active().imageAlt"
            loading="eager"
            decoding="async"
          />

          <div class="mg-hero__overlay" aria-hidden="true"></div>

          <div class="mg-hero__caption">
            <div class="mg-hero__caption-row flex-row-between">
              <div class="mg-section__title mg-section__title--sm truncate-2">
                {{ active().heading }}
              </div>

              <p-button
                [label]="active().ctaLabel"
                icon="pi pi-arrow-right"
                iconPos="right"
                severity="primary"
                size="small"
              />
            </div>

            <p class="mg-hero__caption-text truncate-2">
              {{ active().text }}
            </p>
          </div>
        </a>

        <div class="mg-hero__controls flex-row-between">
          <button
            type="button"
            class="mg-hero__btn"
            (click)="prev()"
            aria-label="Poprzedni slajd"
          >
            ‹
          </button>

          <div class="mg-hero__dots" role="tablist" aria-label="Wybór slajdu">
            @for (s of slides(); track trackByIndex($index)) {
              <button
                type="button"
                class="mg-hero__dot"
                [class.is-active]="$index === activeIndex()"
                (click)="goTo($index)"
                [attr.aria-label]="'Przejdź do slajdu ' + ($index + 1)"
                [attr.aria-current]="$index === activeIndex() ? 'true' : null"
              ></button>
            }
          </div>

          <button
            type="button"
            class="mg-hero__btn"
            (click)="next()"
            aria-label="Następny slajd"
          >
            ›
          </button>
        </div>
      </div>

      <div class="mg-hero__content">
        <header class="mg-section__header mg-hero__header">
          <h1 class="mg-section__title">Mistrzowie Gry</h1>

          <p class="mg-section__subtitle mg-hero__subtitle truncate-2">
            {{ active().text }}
          </p>
        </header>

        <div class="mg-hero__cta-grid">
          <a class="mg-card mg-hero__cta" routerLink="/offer/individual">
            <div class="mg-section__title mg-section__title--xs">
              Oferta indywidualna
            </div>
            <p class="mg-hero__cta-text truncate-2">
              Dla osób i grup prywatnych — sesje dopasowane do oczekiwań.
            </p>
          </a>

          <a class="mg-card mg-hero__cta" routerLink="/chaotic-thursdays">
            <div class="mg-section__title mg-section__title--xs">
              Chaotyczne Czwartki
            </div>
            <p class="mg-hero__cta-text truncate-2">
              Otwarte granie — wpadasz, losujesz ekipę i grasz.
            </p>
          </a>

          <a class="mg-card mg-hero__cta" routerLink="/join">
            <div class="mg-section__title mg-section__title--xs">
              Dołącz do Drużyny
            </div>
            <p class="mg-hero__cta-text truncate-2">
              Program, który pomaga wejść w regularne granie.
            </p>
          </a>

          <a class="mg-card mg-hero__cta" routerLink="/contact">
            <div class="mg-section__title mg-section__title--xs">Kontakt</div>
            <p class="mg-hero__cta-text truncate-2">
              Napisz — dobierzemy rozwiązanie do Twojej sytuacji.
            </p>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
