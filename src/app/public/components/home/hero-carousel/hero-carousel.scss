@use "sass:map";
@use "abstracts/variables" as v;
@use "abstracts/mixins" as m;

.mg-hero__wrap {
  @include m.grid(1.15fr 1fr, map.get(v.$spacings, "xl"), start);

  @include m.down("md") {
    grid-template-columns: 1fr;
  }
}

.mg-hero__media {
  padding: 0;
  overflow: hidden;
}

.mg-hero__link {
  display: block;
  position: relative;
}

.mg-hero__img {
  width: 100%;
  height: auto;
  display: block;
  aspect-ratio: 16 / 10;
  object-fit: cover;

  @include m.down("md") {
    aspect-ratio: 16 / 11;
  }
}

/* Overlay */
.mg-hero__overlay {
  position: absolute;
  inset: 0;
  background: color-mix(in srgb, black 55%, transparent);
  opacity: 0.35;
  transition: opacity v.$transition-fast;
}

.mg-hero__link:hover .mg-hero__overlay {
  opacity: 0.5;
}

/* Caption: czytelność robimy tłem (theme-aware) */
.mg-hero__caption {
  position: absolute;
  left: map.get(v.$spacings, "md");
  right: map.get(v.$spacings, "md");
  bottom: map.get(v.$spacings, "md");

  display: grid;
  gap: 0.35rem;

  padding: map.get(v.$spacings, "sm") map.get(v.$spacings, "md");
  border-radius: v.$radius-md;

  background: color-mix(in srgb, v.$color-graphite 70%, transparent);
}

.mg-hero__caption-row {
  gap: map.get(v.$spacings, "sm");
}

.mg-hero__caption-text {
  margin: 0;
}

/* Controls */
.mg-hero__controls {
  padding: map.get(v.$spacings, "sm");
}

.mg-hero__btn {
  border: 1px solid v.$color-border;
  background: v.$color-bg-surface;
  color: v.$color-text;
  border-radius: v.$radius-md;
  width: 2.25rem;
  height: 2.25rem;
  cursor: pointer;
}

.mg-hero__dots {
  display: inline-flex;
  gap: 0.5rem;
  align-items: center;
}

.mg-hero__dot {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 999px;
  border: 1px solid v.$color-border;
  background: transparent;
  cursor: pointer;

  &.is-active {
    background: v.$color-primary;
    border-color: v.$color-primary;
  }
}

/* Right content */
.mg-hero__header {
  text-align: left;
  margin-bottom: map.get(v.$spacings, "lg");
}

.mg-hero__subtitle {
  min-height: 3.2em;
}

.mg-hero__cta-grid {
  @include m.mg-grid(
    2,
    map.get(v.$spacings, "md"),
    map.get(v.$spacings, "md"),
    true,
    2,
    1
  );
}

.mg-hero__cta {
  display: grid;
  gap: 0.25rem;
}

.mg-hero__cta-text {
  color: v.$color-text-muted;
  margin: 0;
}
