@use "sass:map";
@use "../abstracts/variables" as v;
@use "../abstracts/mixins" as m;

/* =========================================================
   PrimeNG >=16 — Accordion (NEW API)
   Cel: tylko kolory, spacing, typografia
   ========================================================= */

.p-accordion {
  color: v.$color-text;
}

/* panel */
.p-accordionpanel {
  border: 1px solid v.$color-border;
  border-radius: v.$radius-md;
  background: v.$color-bg-surface;
  overflow: hidden;

//   & + .p-accordion-panel {
//     margin-top: map.get(v.$spacings, "sm");
//   }
}

/* header wrapper */
.p-accordionheader {
  margin: 0;
}

/* prawdziwy clickable element */
.p-accordionheader {
  width: 100%;
  background: transparent;
  border: 0;

//   padding: map.get(v.$spacings, "sm") map.get(v.$spacings, "md");

//   color: v.$heading-color;
//   font-family: v.$font-family-display;
//   font-size: map.get(v.$font-sizes, "sm");
//   font-weight: 800;
//   line-height: 1.1;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: map.get(v.$spacings, "sm");

  cursor: pointer;
  transition: background-color v.$transition-fast, color v.$transition-fast;
}

/* hover */
// @media (hover: hover) and (pointer: fine) {
//   .p-accordionheader:hover {
//     background: color-mix(in srgb, v.$color-bg 60%, transparent);
//     color: v.$color-white;
//   }
// }

/* focus-visible — spójne z resztą UI */
.p-accordionheader:focus-visible {
  outline: 0;
  background: v.$color-text;
}

/* treść */
.p-accordioncontent-content {
  border-top: 1px solid v.$color-border;
  background: transparent;
  color: v.$color-text;
}

.p-accordioncontent-content {
  padding: map.get(v.$spacings, "sm") map.get(v.$spacings, "md");

  p {
    margin: 0;
    line-height: 1.5;
  }
}

.p-accordionheader-toggle-icon .p-icon {
    color: v.$color-text;
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
    color: v.$color-text;
}

/* ciaśniej na mobile */
@include m.down("sm") {
  .p-accordion-header-action,
  .p-accordion-content-body {
    padding: map.get(v.$spacings, "sm");
  }
}
